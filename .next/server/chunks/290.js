exports.id=290,exports.ids=[290],exports.modules={7529:()=>{},215:(e,t,n)=>{Promise.resolve().then(n.bind(n,9894)),Promise.resolve().then(n.bind(n,2995)),Promise.resolve().then(n.t.bind(n,5268,23))},7446:(e,t,n)=>{Promise.resolve().then(n.t.bind(n,3642,23)),Promise.resolve().then(n.t.bind(n,7586,23)),Promise.resolve().then(n.t.bind(n,7838,23)),Promise.resolve().then(n.t.bind(n,8057,23)),Promise.resolve().then(n.t.bind(n,7741,23)),Promise.resolve().then(n.t.bind(n,3118,23))},9894:(e,t,n)=>{"use strict";n.d(t,{R:()=>c,TrackingProvider:()=>s});var r=n(7247),o=n(8964),i=n(863);let a=(0,o.createContext)(void 0),s=({children:e})=>{let[t,n]=(0,o.useState)(null),[s,c]=(0,o.useState)([]),l=(0,o.useRef)(Date.now()),d=(0,o.useRef)(0),u=(0,o.useRef)(Date.now()),m=(0,o.useRef)(!0),g=(0,o.useRef)(`${Date.now()}-${Math.random().toString(36).substr(2,9)}`),v=(0,o.useRef)(`visit_${Date.now()}_${Math.random().toString(36).substr(2,15)}`),p=(0,o.useRef)(0),f=(0,o.useRef)(0),w=(0,o.useRef)(0),h=(0,o.useRef)(1),b=(0,o.useRef)(!1),E=(0,o.useRef)(!1),y=(0,o.useRef)(!1),_=(0,o.useRef)(!1),T=async()=>{try{let e=await fetch("https://api.ipify.org?format=json");return(await e.json()).ip}catch(e){console.warn("No se pudo obtener la IP:",e);return}},I=async()=>{try{let e=await fetch("https://ipinfo.io/json");return(await e.json()).city}catch(e){console.warn("No se pudo obtener la localidad:",e);return}},k=()=>{if("connection"in navigator){let e=navigator.connection;return{connectionType:e.effectiveType||e.type,effectiveType:e.effectiveType,downlink:e.downlink,rtt:e.rtt}}return{}},S=()=>{let e=navigator.userAgent,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e),n=/iPad|Android(?=.*\bMobile\b)(?=.*\bSafari\b)/i.test(e);return{isMobile:t,isTablet:n,isDesktop:!t&&!n,touchSupport:"ontouchstart"in window}},P=async()=>{let e=await T();return{visitUid:v.current,userAgent:navigator.userAgent,language:navigator.language,platform:navigator.platform,cookieEnabled:navigator.cookieEnabled,doNotTrack:navigator.doNotTrack,screenWidth:window.screen.width,screenHeight:window.screen.height,viewportWidth:window.innerWidth,viewportHeight:window.innerHeight,colorDepth:window.screen.colorDepth,pixelRatio:window.devicePixelRatio,...k(),ipAddress:e,city:await I(),timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,sessionStartTime:l.current,totalActiveTime:m.current?d.current+(Date.now()-u.current):d.current,lastActivityTime:u.current,pageViews:h.current,clicks:f.current,scrollDepth:w.current,mouseMovements:p.current,referrer:document.referrer,currentUrl:window.location.href,...S(),sessionId:g.current,timestamp:Date.now()}},x=async()=>{if(b.current){console.log("Ya hay una llamada de tracking en progreso, saltando...");return}try{b.current=!0,y.current=!0,setTimeout(()=>{y.current=!1,console.log("Flag hasSentBeforeUnload reseteado")},5e3);let e=await P(),t=process.env.NEXT_PUBLIC_API_ENDPOINT,n=process.env.NEXT_PUBLIC_META_ACCESS_TOKEN,r=process.env.NEXT_PUBLIC_META_PIXEL_ID;if(!t)throw Error("Endpoint no configurado");if(!n)throw Error("Access Token no configurado");if(!r)throw Error("Pixel ID no configurado");let o=await i.Z.post(`${t}/tracking`,{trackingData:e,events:s,access_token:n,pixel_id:r},{headers:{"Content-Type":"application/json"},timeout:1e4});return console.log("Datos de tracking enviados exitosamente:",o.data),o.data}catch(e){throw console.error("Error enviando datos de tracking:",e),L(),e}finally{b.current=!1}},L=()=>{try{P().then(e=>{let t=localStorage.getItem("trackingData"),n=t?JSON.parse(t):[];n.push({trackingData:e,events:s,timestamp:Date.now()}),localStorage.setItem("trackingData",JSON.stringify(n))})}catch(e){console.error("Error guardando en localStorage:",e)}},D=async()=>{if(_.current){console.log("Init tracking ya fue enviado, saltando...");return}try{_.current=!0;let e=process.env.NEXT_PUBLIC_API_ENDPOINT,t=process.env.NEXT_PUBLIC_META_ACCESS_TOKEN,n=process.env.NEXT_PUBLIC_META_PIXEL_ID;if(!e)throw Error("Endpoint no configurado");let r={visitUid:v.current,sessionId:g.current,page_id:n||null,timestamp:Date.now(),access_token:t||null,pixel_id:n||null},o=await i.Z.post(`${e}/init-tracking`,r,{headers:{"Content-Type":"application/json"},timeout:1e4});return console.log("Init tracking enviado exitosamente:",o.data),o.data}catch(e){throw console.error("Error enviando init tracking:",e),N(),e}},N=()=>{try{let e=process.env.NEXT_PUBLIC_META_ACCESS_TOKEN,t=process.env.NEXT_PUBLIC_META_PIXEL_ID,n={visitUid:v.current,sessionId:g.current,page_id:t||null,timestamp:Date.now(),access_token:e||null,pixel_id:t||null},r=localStorage.getItem("initTrackingData"),o=r?JSON.parse(r):[];o.push({...n,created_at:new Date().toISOString()}),localStorage.setItem("initTrackingData",JSON.stringify(o)),console.log("Init tracking guardado en localStorage como fallback")}catch(e){console.error("Error guardando init tracking en localStorage:",e)}},A=(e,t={})=>{let n={type:e,data:t,timestamp:Date.now(),visitUid:v.current};c(e=>[...e,n])},C=()=>{m.current||(m.current=!0,u.current=Date.now())},B=()=>{m.current&&(d.current+=Date.now()-u.current,m.current=!1)},U=()=>{let e=window.pageYOffset||document.documentElement.scrollTop,t=document.documentElement.scrollHeight-window.innerHeight;w.current=Math.max(w.current,e/t*100)};return(0,o.useEffect)(()=>{let e,t;if(E.current)return;E.current=!0,console.log("Inicializando Tracking Provider..."),D().catch(e=>{console.error("Error en init tracking:",e)}),P().then(n);let r=()=>{C(),A("focus")},o=()=>{B(),A("blur")},i=()=>{"hidden"===document.visibilityState?B():C()},a=()=>{U(),clearTimeout(e),e=setTimeout(()=>{A("scroll",{scrollDepth:w.current})},100)},s=()=>{f.current++,A("click",{clicks:f.current})},c=()=>{p.current++,clearTimeout(t),t=setTimeout(()=>{p.current%10==0&&A("scroll",{mouseMovements:p.current})},1e3)},l=()=>{B(),b.current||y.current?console.log("Saltando env\xedo en beforeunload (ya se envi\xf3 recientemente)"):(console.log("Enviando tracking data en beforeunload..."),x())},d=()=>{window.performance&&window.performance.timing&&A("page_view",{pageLoadTime:window.performance.timing.loadEventEnd-window.performance.timing.navigationStart})};window.addEventListener("focus",r),window.addEventListener("blur",o),document.addEventListener("visibilitychange",i),window.addEventListener("scroll",a),window.addEventListener("click",s),window.addEventListener("mousemove",c),window.addEventListener("beforeunload",l),window.addEventListener("load",d);let u=setInterval(async()=>{n(await P())},3e4);return()=>{console.log("Limpiando Tracking Provider..."),clearInterval(u),window.removeEventListener("focus",r),window.removeEventListener("blur",o),document.removeEventListener("visibilitychange",i),window.removeEventListener("scroll",a),window.removeEventListener("click",s),window.removeEventListener("mousemove",c),window.removeEventListener("beforeunload",l),window.removeEventListener("load",d),b.current||y.current?console.log("Saltando env\xedo en cleanup (ya se envi\xf3 recientemente)"):(console.log("Enviando tracking data en cleanup..."),x())}},[]),r.jsx(a.Provider,{value:{trackingData:t,sendTrackingData:x,sendInitTracking:D,incrementPageViews:()=>{h.current++},getSessionId:()=>g.current,getVisitUid:()=>v.current,getEvents:()=>s},children:e})},c=()=>{let e=(0,o.useContext)(a);if(void 0===e)throw Error("useUserTracking debe ser usado dentro de TrackingProvider");return e}},2995:(e,t,n)=>{"use strict";n.d(t,{ThemeProvider:()=>i});var r=n(7247);n(8964);var o=n(7797);function i({children:e,...t}){return r.jsx(o.f,{...t,children:e})}},3902:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v,metadata:()=>g});var r=n(2051),o=n(4898),i=n.n(o),a=n(7146),s=n.n(a);n(7272);var c=n(5347);let l=(0,c.createProxy)(String.raw`/Users/ramiroatlantic/Desktop/CASINOS/SultanBet/landing-sultan/app/context/tracking-context.tsx#TrackingProvider`);(0,c.createProxy)(String.raw`/Users/ramiroatlantic/Desktop/CASINOS/SultanBet/landing-sultan/app/context/tracking-context.tsx#useUserTracking`);var d=n(8252);let u=(0,c.createProxy)(String.raw`/Users/ramiroatlantic/Desktop/CASINOS/SultanBet/landing-sultan/components/theme-provider.tsx#ThemeProvider`),m={name:"Sultan Loco",title:"Sultan Loco - Juegos y Entretenimiento",description:"Descubr\xed una nueva forma de divertirte con Sultan Loco. Juegos, premios y emoci\xf3n.",url:"https://sultanloco.com",ogImage:"/sult.png",favicon:"/sult.png"},g={metadataBase:new URL(m.url),title:{default:m.title,template:`%s | ${m.name}`},description:m.description,icons:{icon:m.favicon,shortcut:m.favicon,apple:m.favicon},openGraph:{title:m.title,description:m.description,url:m.url,siteName:m.name,images:[{url:m.ogImage,width:1200,height:630,alt:m.name}],locale:"es_AR",type:"website"},twitter:{card:"summary_large_image",title:m.title,description:m.description,images:[m.ogImage]},robots:{index:!0,follow:!0,googleBot:{index:!0,follow:!0,"max-video-preview":-1,"max-image-preview":"large","max-snippet":-1}}};function v({children:e}){return(0,r.jsxs)("html",{lang:"es",className:`${s().variable} ${i().variable}`,children:[" ",(0,r.jsxs)("head",{children:[r.jsx("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),r.jsx("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"}),r.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap",rel:"stylesheet"})]}),(0,r.jsxs)("body",{className:i().className,children:[r.jsx(d.default,{id:"fb-pixel",strategy:"afterInteractive",dangerouslySetInnerHTML:{__html:`
              !(function (f, b, e, v, n, t, s) {
                if (f.fbq) return;
                n = f.fbq = function () {
                  n.callMethod
                    ? n.callMethod.apply(n, arguments)
                    : n.queue.push(arguments);
                };
                if (!f._fbq) f._fbq = n;
                n.push = n;
                n.loaded = !0;
                n.version = "2.0";
                n.queue = [];
                t = b.createElement(e);
                t.async = !0;
                t.src = v;
                s = b.getElementsByTagName(e)[0];
                s.parentNode.insertBefore(t, s);
              })(
                window,
                document,
                "script",
                "https://connect.facebook.net/en_US/fbevents.js"
              );
              fbq("init", "${process.env.NEXT_PUBLIC_META_PIXEL_ID}");
              fbq("track", "PageView");
            `}}),r.jsx(d.default,{id:"lead-event",strategy:"afterInteractive",dangerouslySetInnerHTML:{__html:`
              document.addEventListener('DOMContentLoaded', function () {
                const observer = new MutationObserver((mutationsList, observer) => {
                  for (const mutation of mutationsList) {
                    if (mutation.type === 'childList') {
                      const buttonIds = ["upload-button", "cta-button", "register-button", "deposit-button", "create-user-button"];
                      buttonIds.forEach(id => {
                        const button = document.getElementById(id);
                        if (button && !button.hasAttribute('data-fbq-attached')) { // Verifica si el evento ya est\xe1 adjunto
                          console.log(\`Bot\xf3n \${id} encontrado\`);
                          button.addEventListener("click", function () {
                            if (typeof window.fbq === 'function') {
                              window.fbq("track", "StartTrial", {
                                content_name: button.textContent || "Bot\xf3n no encontrado",
                                value: 10,
                                currency: "USD",
                              });
                            }
                          });
                          button.setAttribute('data-fbq-attached', 'true'); // Marca como adjunto
                        }
                      });
                      if (buttonIds.every(id => document.getElementById(id))) {
                        observer.disconnect(); // Deja de observar una vez que todos los botones han sido encontrados
                      }
                    }
                  }
                });

                // Comienza a observar el documento
                observer.observe(document.body, { childList: true, subtree: true });
              });
            `}}),r.jsx("noscript",{children:r.jsx("img",{height:"1",width:"1",style:{display:"none"},src:`https://www.facebook.com/tr?id=${process.env.NEXT_PUBLIC_META_PIXEL_ID}&ev=PageView&noscript=1`})}),r.jsx(u,{attribute:"class",defaultTheme:"dark",enableSystem:!0,children:r.jsx(l,{children:e})})]})]})}},7272:()=>{}};